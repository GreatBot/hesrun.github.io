<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="cards-list">
        <div class="card-holder">
            <div class="card">
                <button class="close"></button>
                <div class="card-head" style="background-image: url('https://loremflickr.com/600/300/night')">
                    <div class="head-title">
                        <h1>Some title</h1>
                        <span>Lorem ipsum dolor sit amet, consectetur.</span>
                    </div>
                    <div class="article-title">
                        <h2>Lorem ipsum.</h2>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing.</span>
                    </div>
                </div>
                <div class="card-article">
                    <article>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Incidunt accusantium harum libero tempore iste rerum. Consequuntur sapiente harum nemo, vel id illum error ad. Magnam repellendus dolor earum minima soluta sunt ratione corporis consequatur cumque excepturi sint sapiente necessitatibus nesciunt eius esse, quae tenetur expedita reprehenderit similique rem laborum maxime?</p>
                    </article>
                </div>
            </div>
        </div>
        <div class="card-holder">
            <div class="card">
                <button class="close"></button>
                <div class="card-head" style="background-image: url('https://loremflickr.com/600/300/night')">
                    <div class="head-title">
                        <h1>Some title</h1>
                        <span>Lorem ipsum dolor sit amet, consectetur.</span>
                    </div>
                    <div class="article-title">
                        <h2>Lorem ipsum.</h2>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing.</span>
                    </div>
                </div>
                <div class="card-article">
                    <article>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Incidunt accusantium harum libero tempore iste rerum. Consequuntur sapiente harum nemo, vel id illum error ad. Magnam repellendus dolor earum minima soluta sunt ratione corporis consequatur cumque excepturi sint sapiente necessitatibus nesciunt eius esse, quae tenetur expedita reprehenderit similique rem laborum maxime?</p>
                    </article>
                </div>
            </div>
        </div>
        <div class="card-holder">
            <div class="card">
                <button class="close"></button>
                <div class="card-head" style="background-image: url('https://loremflickr.com/600/300/night')">
                    <div class="head-title">
                        <h1>Some title</h1>
                        <span>Lorem ipsum dolor sit amet, consectetur.</span>
                    </div>
                    <div class="article-title">
                        <h2>Lorem ipsum.</h2>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing.</span>
                    </div>
                </div>
                <div class="card-article">
                    <article>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Incidunt accusantium harum libero tempore iste rerum. Consequuntur sapiente harum nemo, vel id illum error ad. Magnam repellendus dolor earum minima soluta sunt ratione corporis consequatur cumque excepturi sint sapiente necessitatibus nesciunt eius esse, quae tenetur expedita reprehenderit similique rem laborum maxime?</p>
                    </article>
                </div>
            </div>
        </div>
        <div class="card-holder">
            <div class="card">
                <button class="close"></button>
                <div class="card-head" style="background-image: url('https://loremflickr.com/600/300/night')">
                    <div class="head-title">
                        <h1>Some title</h1>
                        <span>Lorem ipsum dolor sit amet, consectetur.</span>
                    </div>
                    <div class="article-title">
                        <h2>Lorem ipsum.</h2>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing.</span>
                    </div>
                </div>
                <div class="card-article">
                    <article>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Incidunt accusantium harum libero tempore iste rerum. Consequuntur sapiente harum nemo, vel id illum error ad. Magnam repellendus dolor earum minima soluta sunt ratione corporis consequatur cumque excepturi sint sapiente necessitatibus nesciunt eius esse, quae tenetur expedita reprehenderit similique rem laborum maxime?</p>
                    </article>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" charset="utf-8"></script>
    <script type="text/javascript">


        var CardLeft, CardTop, CardWidth, CardHeight, Card, ScTop;

        $(".card-head").click(function() {
            Card = $(this).parents('.card');
            ScTop = $(window).scrollTop();
            if (!Card.hasClass('is-open')) {
                $("html").addClass('hidden');
                CardLeft = Card.offset().left;
                CardTop = Card.offset().top - ScTop;
                CardWidth = Card.outerWidth();
                CardHeight = Card.outerHeight();

                console.log(CardLeft,CardTop,CardWidth,CardHeight)

                Card.css({
                    position:'fixed',
                    zIndex: 3,
                    left: CardLeft + 'px',
                    top: CardTop + 'px',
                    width: CardWidth + 'px',
                    height: CardHeight + 'px'
                }).parents('.card-holder').css({
                    height: CardHeight + 'px'
                })

                setTimeout(function(){
                    Card.addClass('is-open')
                }, 100);
            }
        });

        $(".close").click(function() {
            $('.card.is-open').removeClass('is-open')
            setTimeout(function(){
                Card.css({
                    position:'relative',
                    zIndex: 1,
                    left: 'auto',
                    top: 'auto',
                    width: 'auto',
                    height: 'auto'
                }).parents('.card-holder').removeAttr('style')
                $("html").removeClass('hidden')
            }, 500);
        })

    </script>
</body>
</html>
